<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expansión Urbana Mty</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./img/logos/logo.png" type="image/x-icon">
    <!--MapBox-->
    <script src="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.js"></script>
    <link href="https://api.mapbox.com/mapbox-gl-js/v1.11.0/mapbox-gl.css" rel="stylesheet" />
    <!-- d3 -->
    <script src="//d3js.org/d3.v5.min.js" charset="utf-8"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- chartjs -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"charset="utf-8"></script>
    
    <link rel="stylesheet" href="css/uikit.min.css" />
    <script src="js/uikit.min.js"></script>
    <script src="js/uikit-icons.min.js"></script>
    
    <link rel="stylesheet" href="style.css">
    <!--Carousel-->
    <!-- Add the slick-theme.css if you want default styling -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <!-- Add the slick-theme.css if you want default styling -->
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.css"/>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@0.7.0"></script>
</head>
<body>
    <div id="nav" style=" z-index: 1000;">
        <img id="image-nav" src="img/logos/NewLogo.png"  style="height: 80;">
        <h3 id="text-nav">Expansión Urbana de Monterrey</h3>
        <ul>
            <li><a href="index.html" class="activeNav">Inicio</a></li>
            <li><a href="expansion.html">Expansión</a></li>
            <li><a href="costos.html" class="activeNav">Costos</a></li>
            <li><a href="morfologia.html">Morfología</a></li>
            <li><a href="atlas.html">Calles</a></li>
            <li><a href="finanzas.html">Finanzas</a></li>
            <li><a href="equipo.html">Equipo</a></li>
        </ul>
        <a href="javascript:void(0);" class="icon nav-toggle" onclick="mobileNav()">
            <i class="fa fa-bars"></i>
        </a>
    </div>

    <div class=" uk-dark" style="padding:0px 5%;border-bottom: 2px solid rgb(80, 80, 80);">
        <div class="uk-child-width-1-2@s uk-grid-match" uk-grid style="padding-top: 1rem;">
            <div>
                <h1 id="title"
                    style="text-align: left; font-size: 1.5rem; color: black; font-weight: bold;">
                    Costo anual de reposición de pavimentos versus gasto municipal anual en la conurbación asociada a Monterrey (millones de pesos
                    mexicanos de 2019)
                </h1>
                <div class="uk-card  uk-card-default uk-card-body"
                    style="background-color: #fff0 !important;box-shadow:none !important;">
                    <div>
                        <ul class="tabs-content">
                            <li class="active">
                                <canvas id="escenarios" width="350" height="275"></canvas>
                            </li>
                            <li>
                                <canvas id="costoAnual" width="350" height="275"></canvas>
                            </li>
                        </ul>
                        <ul class="tabs">
                            <li class="active buttonHome" onclick="mainTab()">Escenarios </li>
                            <li class="buttonHome">Presupuesto</li>
                        </ul>
                    </div>
                </div>
            </div>
            <div>
                <!--Total y reset-->
    
                <div class="uk-card uk-card-default uk-card-body"
                    style="background-color: #E4E3DF !important;box-shadow:none !important;padding: 0 !important;">
                    <!--Sliders-->
                    <div>
                        <div class="uk-overflow-auto">
                            <table class="uk-table uk-table-divider costosTable">
                                <thead>
                                    <tr>
                                        <th></th>
                                        <!--
                                            <th>Primarias (31,582,743.17 Km&#13217;)</th>
                                            <th>Secundarias (36,331,975.27 Km&#13217;)</th>
                                            <th>Terciarias (127,911,345.27 Km&#13217;)</th>
                                            -->
                                        <th class="costosTableHeader" style="color: #182D3A; text-align: center;"><b>Primarias</b><br> <span
                                                style="color: #a1a19e; font-size: 12px; font-style: italic;">31.58 millones
                                                de m<sup>2</sup></span></th>
                                        <th class="costosTableHeader"  style="color: #182D3A; text-align: center;">
                                            <b>Secundarias</b><br> <span
                                                style="color: #a1a19e; font-size: 12px; font-style: italic;">36.33 millones
                                                de m<sup>2</sup></span></th>
                                        <th class="costosTableHeader"  style="color: #182D3A; text-align: center;"><b>Terciarias</b><br><span
                                                style="color: #a1a19e; font-size: 12px; font-style: italic;">127.91 millones
                                                de m<sup>2</sup></span></th>
                                    </tr>
                                </thead>
                                <tbody style="position: relative; top: 3rem;">
                                    <tr valign="middle" style="height: 130px;">
                                        <td class="uk-width-small">Grosor de carpeta (cm)</td>
                                        <td>
                                            <div class="range-wrap">
                                                <input type="range" class="range uk-range custom-range" value="6" min="1"
                                                    max="10" step="1" id="GCarpPrim" onchange="calculateCostosEscenario()">
                                                <output class="bubble"></output>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="range-wrap">
                                                <input type="range" class="range uk-range" value="4" min="1" max="4"
                                                    step="1" id="GCarpSec" onchange="calculateCostosEscenario()">
                                                <output class="bubble"></output>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="range-wrap">
                                                <input type="range" class="range uk-range" value="4" min="1" max="4"
                                                    step="1" id="GCarpTer" onchange="calculateCostosEscenario()">
                                                <output class="bubble"></output>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr valign="middle" style="height: 130px;">
                                        <td class="uk-width-small">Frecuencia de mantenimientos (años)</td>
                                        <td>
                                            <div class="range-wrap">
                                                <input type="range" class="range uk-range" value="5" min="1" max="50"
                                                    step="1" id="fMantPrim" onchange="calculateCostosEscenario()">
                                                <output class="bubble"></output>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="range-wrap">
                                                <input type="range" class="range uk-range" value="15" min="1" max="50"
                                                    step="1" id="fMantSec" onchange="calculateCostosEscenario()">
                                                <output class="bubble"></output>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="range-wrap">
                                                <input type="range" class="range uk-range" value="50" min="1" max="100"
                                                    step="1" id="fMantTer" onchange="calculateCostosEscenario()">
                                                <output class="bubble"></output>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="height: 130px;">
                                        <td class="uk-width-small">Bacheo profundo (porcentaje de la superficie que se hace
                                            bacheo donde se recarpetea)</td>
                                        <td>
                                            <div class="range-wrap2">
                                                <input type="range" class="range uk-range" value="0.07" min="0" max="0.10"
                                                    step="0.01" id="bProfPrim" onchange="calculateCostosEscenario()">
                                                <output class="bubble2"></output>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="range-wrap2">
                                                <input type="range" class="range uk-range" value="0.05" min="0" max="0.10"
                                                    step="0.01" id="bProfSec" onchange="calculateCostosEscenario()">
                                                <output class="bubble2"></output>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="range-wrap2">
                                                <input type="range" class="range uk-range" value="0.03" min="0" max="0.10"
                                                    step="0.01" id="bProfTer" onchange="calculateCostosEscenario()">
                                                <output class="bubble2"></output>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr style="height: 130px;">
                                        <td class="uk-width-small">Bacheo superficial(porcentaje de las vialidades en las
                                            que se realiza bacheo)</td>
                                        <td>
                                            <div class="range-wrap2">
                                                <input type="range" class="range uk-range" value="0.02" min="0" max="0.10"
                                                    step="0.01" id="bSupPrim" onchange="calculateCostosEscenario()">
                                                <output class="bubble2"></output>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="range-wrap2">
                                                <input type="range" class="range uk-range" value="0.02" min="0" max="0.10"
                                                    step="0.01" id="bSupSec" onchange="calculateCostosEscenario()">
                                                <output class="bubble2"></output>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="range-wrap2">
                                                <input type="range" class="range uk-range" value="0.01" min="0" max="0.10"
                                                    step="0.01" id="bSupTer" onchange="calculateCostosEscenario()">
                                                <output class="bubble2"></output>
                                            </div>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
    
                </div>
                <table class="uk-table uk-table-divider">
                    <thead>
                        <tr>
                            <th style="vertical-align: middle;">
                                <h2 style="margin: 0; font-size: 20px;"><i>Costo total: </i><strong id="totalCostText"
                                        style="color: #2D5066;"> $3000 MDP</strong></h2>
                            </th>
                            <th
                                style="vertical-align: middle; background-color: #d4d4d3; border-color: #b1b1af; border-right: solid 2px;">
                                <div>
                                    <button class="uk-button uk-button-danger" style="
                                                        border: none;
                                                        color: #a1a19e;
                                                        background-color: #d4d4d3;
                                                        padding: 12px;
                                                        text-align: center;
                                                        text-decoration: none;
                                                        display: block;
                                                        margin: auto;
                                                        font-size: 25px;
                                                        border-radius: 50%;" onclick="sliderReset()">
                                        <i class="fa fa-refresh" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </th>
                            <th style="vertical-align: middle; background-color: #d4d4d3;">
                                <div>
                                    <button class="uk-button uk-button-danger" style="background-color: #d4d4d3;
                                                        border: none;
                                                        color: #a1a19e;
                                                        background-color: #d4d4d3;
                                                        padding: 12px;
                                                        text-align: center;
                                                        text-decoration: none;
                                                        display: block;
                                                        font-size: 25px;
                                                        margin: auto;
                                                        border-radius: 50%;" uk-toggle="target: #helpModal">
                                        <i class="fa fa-question" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
    <div class="uk-text-justify uk-light" style="color: black; padding: 1rem 5%; border-bottom: 2px solid rgb(80, 80, 80);">
        <div class="uk-grid" uk-grid style="padding-top: 1rem;">
            <div class="uk-width-large@xl">
                <h3 id="title" style="color: black; font-size: 1.5rem; line-height: 1.4; font-weight: bold;">Superficie de pavimentos por municipio en la conurbación asociada a Monterrey</h3>
                <p>
                    La tabla en este apartado desglosa las superficies pavimentadas para los municipios que comprenden la conurbación
                    asociada a Monterrey. Los anchos de vialidades para el cálculo de las superficies fueron estimados por nuestro equipo de
                    investigación a partir de la cartografía y planimetría catastral. La tabla desglosa los valores en cifras al 2019:
                    población total, superficie urbanizada, superficie de pavimentos.
                </p>
                <p>
                    Cabe remarcar que el cálculo de la superficie pavimentada no incluye el área de banquetas, sino de vialidades
                    exclusivamente. La población de 2019 se obtuvo de las proyecciones del Consejo Nacional de Población (CONAPO) y es el
                    total municipal. El área total desglosa la superficie territorial del límite municipal reportado por el Instituto
                    Nacional de Estadística y Geografía (INEGI). El área urbanizada corresponde a la superficie del municipio que se
                    encuentra urbanizada y fue calculada a partir de las imágenes Landsat.
                </p>
                <p>
                    El municipio de Monterrey tiene un promedio de 39 metros cuadrados de calle por habitante. Guadalupe y San Nicolás de
                    los Garza tienen 29 metros por habitante y Santiago 108 metros cuadrados. El caso de Santiago llama la atención: es un
                    municipio con una amplia infraestructura vial para la relativa baja población con que cuenta. Respecto al porcentaje de
                    calles, este fluctúa entre 20-25% del área en los municipios del área núcleo de la zona metropolitana. En promedio, los
                    municipios en la periferia urbana como General Zuazua, Salinas Victoria y Garza García cuentan con un 10-19% de
                    superficie urbanizada dedicada a las vialidades, un porcentaje menor que las zonas consolidadas de la ciudad. Esto
                    significa que la periferia urbana se encuentra aún en proceso de consolidación. Seguramente, el área de vialidades se
                    incrementará en los años subsecuentes.
                </p>
                <p>
                    El porcentaje total de área de pavimentos (sin incluir banquetas) en Monterrey es el 20% de la superficie urbanizada, lo
                    cual involucra un total de 39 metros cuadrados per cápita. En otras palabras, una quinta parte de la superficie
                    urbanizada corresponde a las vialidades.
                </p>
                <p>
                    Para referencia del lector o lectora acerca de la dimensión que implican estas cifras, existe un estudio realizado por
                    ONU Habitat en el año 2013, en el cual se realiza un comparativo del área dedicada a calles en ciudades alrededor del
                    mundo. El documento puede ser consultado en esta <a
                        href="https://unhabitat.org/sites/default/files/2020/08/streets_as_public_spaces_and_drivers_of_urban_prosperity.pdf"
                        style="color:#2D5066 ;">liga.</a>
                </p>
                
                <p>
                    La página 108 de dicho reporte indica que el área de calles en las zonas núcleo de las ciudades ronda entre 23% (Los
                    Angeles) y 33% (Toronto). El área dedicada en la periferia urbana ronda entre 8% (Calgary) y 13% (Barcelona). Dicho
                    reporte incluye los cálculos para Guadalajara y la Ciudad de México, con un 21.8 y 23.4 para las áreas centrales,
                    respectivamente, y con un 12% y 10% para las zonas de suburbio. De esta forma, el porcentaje de superficie dedicado a
                    calles en Monterrey es similar al porcentaje en Ciudad de México y Guadalajara en las zonas núcleo de la ciudad, pero
                    ligeramente superior en las zonas periféricas de la ciudad. En Monterrey, tenemos un 23% de superficie vial en la zona
                    núcleo y del 15% en la zona periférica, un patrón muy similar al que observamos en Guadalajara.
                </p>
                <p>
                    Esta infraestructura representa un enorme valor de inversión pública, se trata de un activo fijo que requiere
                    mantenimiento para garantizar sus condiciones óptimas de uso.
                </p>
            </div>
            <div class="uk-width-expand costos-table">
                <table>
                    <thead>
                        <td>Municipio</td>
                        <td>Proyección de población en 2020</td>
                        <td>Área total (m<sup>2</sup>)</td>
                        <td>Área urbanizada (m<sup>2</sup>)</td>
                        <td>Superficie pavimentada (m<sup>2</sup>)</td>
                        <td>% superficies que son vialidades</td>
                        <td>m<sup>2</sup> de pavimento per cápita</td>
                    </thead>
                
                    <tbody>
                        <tr>
                            <td>Monterrey</td>
                            <td>124,835</td>
                            <td>324,724,084</td>
                            <td>186,424,677</td>
                            <td>43,698,195</td>
                            <td>23.4%</td>
                            <td>38.8</td>
                        </tr>
                        <tr>
                            <td>Apodaca</td>
                            <td>665,734</td>
                            <td>224,610,433</td>
                            <td>123,101,173</td>
                            <td>24,153,848</td>
                            <td>19.6%</td>
                            <td>36.3</td>
                        </tr>
                        <tr>
                            <td>Guadalupe</td>
                            <td>710,413</td>
                            <td>117,643,418</td>
                            <td>93,023,472</td>
                            <td>20,241,769</td>
                            <td>21.8%</td>
                            <td>28.5</td>
                        </tr>
                        <tr>
                            <td>General Escobedo</td>
                            <td>466,325</td>
                            <td>148,874,290</td>
                            <td>88,488,166</td>
                            <td>18,944,645</td>
                            <td>21.4%</td>
                            <td>40.6</td>
                        </tr>
                        <tr>
                            <td>Juárez</td>
                            <td>396,864</td>
                            <td>247,176,240</td>
                            <td>72,514,140</td>
                            <td>17,115,535</td>
                            <td>23.6%</td>
                            <td>43.1</td>
                        </tr>
                        <tr>
                            <td>García</td>
                            <td>300,745</td>
                            <td>1,031,895,332</td>
                            <td>85,160,981</td>
                            <td>14,572,401</td>
                            <td>17.1%</td>
                            <td>48.5</td>
                        </tr>
                        <tr>
                            <td>San Nicolas de los Garza</td>
                            <td>474,163</td>
                            <td>60,146,050</td>
                            <td>58,716,302</td>
                            <td>13,422,913</td>
                            <td>22.9%</td>
                            <td>28.3</td>
                        </tr>
                        <tr>
                            <td>Santa Catarina</td>
                            <td>322,051</td>
                            <td>915,570,986</td>
                            <td>55,783,646</td>
                            <td>9,824,923</td>
                            <td>17.6%</td>
                            <td>30.5</td>
                        </tr>
                        <tr>
                            <td>San Pedro Garza García</td>
                            <td>137,614</td>
                            <td>70,758,947</td>
                            <td>39,299,710</td>
                            <td>7,331,317</td>
                            <td>18.7%</td>
                            <td>53.3</td>
                        </tr>
                        <tr>
                            <td>Cadereyta</td>
                            <td>105,145</td>
                            <td>1,140,186,364</td>
                            <td>33,763,556</td>
                            <td>6,103,785</td>
                            <td>18.1%</td>
                            <td>58.1</td>
                        </tr>
                        <tr>
                            <td>Salinas Victoria</td>
                            <td> 61,868</td>
                            <td>1,666,704,252</td>
                            <td>36,347,232</td>
                            <td>5,460,395</td>
                            <td>15.0%</td>
                            <td>88.3</td>
                        </tr>
                        <tr>
                            <td>Santiago</td>
                            <td> 46,955</td>
                            <td>738,921,156</td>
                            <td>39,135,435</td>
                            <td>5,089,234</td>
                            <td>13.0%</td>
                            <td>108.4</td>
                        </tr>
                        <tr>
                            <td>Pesquería</td>
                            <td>112,583</td>
                            <td>322,623,461</td>
                            <td>20,166,064</td>
                            <td>3,518,636</td>
                            <td>17.4%</td>
                            <td>31.3</td>
                        </tr>
                        <tr>
                            <td>El Carmen</td>
                            <td> 47,326</td>
                            <td>104,235,138</td>
                            <td>10,724,499</td>
                            <td>3,389,339</td>
                            <td>31.6%</td>
                            <td>71.6</td>
                        </tr>
                        <tr>
                            <td>General Zuazua</td>
                            <td> 91,913</td>
                            <td>184,405,729</td>
                            <td>28,885,353</td>
                            <td>2,758,603</td>
                            <td>9.6%</td>
                            <td>30.0</td>
                        </tr>
                        <tr>
                            <td>Abasolo</td>
                            <td> 2,918</td>
                            <td>46,863,758</td>
                            <td>1,583,965</td>
                            <td>200,523</td>
                            <td>12.7%</td>
                            <td>68.7</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <td>Totales </td>
                        <td>5,067,452</td>
                        <td>7,345,339,638</td>
                        <td>973,118,373</td>
                        <td>195,826,064</td>
                        <td>20.1%</td>
                        <td>38.6</td>
                    </tfoot>
                </table>
            </div>
        </div>
        <br>
        <!-- <p>
            Para referencia del lector o lectora, existe un estudio realizado por ONU Habitat en el año 2013, en el cual se
            realiza un comparativo del área dedicada a calles en ciudades alrededor del mundo. El documento puede ser
            consultado en esta <a
                href="https://unhabitat.org/sites/default/files/2020/08/streets_as_public_spaces_and_drivers_of_urban_prosperity.pdf"
                style="color:#2D5066 ;">liga.</a>
        </p>
    
        <p>
            La página 108 de dicho reporte indica que el área de calles en las zonas núcleo de las ciudades ronda entre 23%
            (Los Angeles) y 33% (Toronto). El área dedicada en la periferia urbana ronda entre 8% (Calgary) y 13%
            (Barcelona). Dicho reporte incluye los cálculos para Guadalajara y la Ciudad de México, con un 21.8 y 23.4 para
            las áreas centrales, respectivamente, y con un 12% y 10% para las zonas de suburbio. De esta forma, el
            porcentaje de superficie dedicado a calles en Monterrey es similar al porcentaje en Ciudad de México y
            Guadalajara en las zonas núcleo de la ciudad, pero ligeramente superior en las zonas periféricas de la ciudad.
            En términos de porcentajes de superficie de pavimentos, el caso de Monterrey sería similar a la ciudad de Cape
            Town en Sudáfrica.
        </p> -->
    
    
    </div>
    
    <!--Sección: Ciclo de Mantenimiento de los Pavimentos-->
    <div class="fullscreen-cont" id="mantenimiento">
        <h3 id="title" style="color: black; text-align: center; font-weight: bold;">Ciclo de Mantenimiento de Pavimentos</h3>
        <div class="uk-child-width-1-2@m" uk-grid  style="max-width: 100%;">
            <div style="color: black;  text-align: justify;">
                <p>
                    Esta sección presenta las capas y grosor de cada una de las capas en una estructura estándar de vialidades primarias y
                    secundarias. Los mantenimientos e intervenciones a una vialidad se dividen en tres tipos: preventivos, superficiales y
                    reconstrucción. El tipo de mantenimiento preventivo consiste en un bacheo superficial (un relleno de la capa asfáltica)
                    y sellado de grietas (en el caso del concreto hidráulico). El mantenimiento superficial consiste en recortar entre 5 y
                    10 centímetros de la capa asfáltica para vialidades primarias y de 4 centímetros para las secundarias y terciarias,
                    reemplazando con carpeta nueva el mismo grosor. Una reconstrucción implica la intervención de la base hidráulica,
                    subbase y subrasante, además del reemplazo de la capa de asfalto.
                </p>
                <p>
                    Las entrevistas a profundidad con expertos en asfaltos en el área metropolitana de Monterrey coincidieron en que el tipo
                    de mantenimiento más frecuente es el superficial, reemplazando 6 centímetros de la carpeta para las vialidades primarias
                    y 4 centímetros para las secundarias. En la práctica, la reconstrucción de una vialidad está reservada a momentos cuando
                    ocurren eventos exógenos que generan un daño profundo en la vialidad, como inundaciones, deslaves o derrumbes. De esta
                    forma, el mantenimiento más común en la ciudad es el bacheo y el tratamiento superficiales de reemplazo de la carpeta
                    para las vialidades primarias y secundarias.
                </p>
                <p>
                    Un tema relevante y controvertido es aquél de la vida útil de las vialidades locales o terciarias. Las principales
                    causas del desgaste de un pavimento es la carga vehicular y el agua. El tráfico pesado es un elemento de mucha presión
                    para la capa asfáltica. El tema es: ¿Qué sucede con vialidades terciarias que solamente registran tráfico local y que
                    son la gran mayoría de superficie en el área metropolitana? Los expertos en asfaltos coincidieron en que las vialidades
                    tienen una vida útil de no más de 30 años. Sin embargo, en la ciudad existen vialidades locales con más de 50 años que
                    no han sido recarpeteadas y se mantienen en un estado relativamente aceptable. De acuerdo con nuestros entrevistados,
                    los Ayuntamientos tienen capacidad financiera limitada para atender adecuadamente las vialidades locales y concentran
                    sus recursos en el recarpeteo de las vialidades primarias y secundarias que sufren mayor desgaste y llevan la mayor
                    carga vehicular.
                </p>
            </div>
            <div>
                <ul class="tabs">
                    <li class="active buttonHome">Vialidades Primarias</li>
                    <li class="buttonHome">Vialidades Secundiarias</li>
                </ul>
                
                <ul class="tabs-content" >
                    <li class="active">
                        <img src="./img/Vialidades/primaria.png">
                    </li>
                    <li>
                        <img src="./img/Vialidades/secundaria.png">
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="" id="costos" style="display: block;">
        <h3 id="title" style="padding-bottom: 2rem; color: black; text-align: center; margin: auto; font-weight: bold; padding-top: 2rem;">Relación entre superficie de pavimentos y expansión urbana por tupo de vialidad</h3>
        <div class="uk-child-width-1-2@m" uk-grid style="padding-bottom: 2rem;">
            <div style="display: block; color: black;height: 500px;overflow: auto;" class="uk-text-justify" class="uk-width-1-2">
                <div style="padding-right:20px">
                    <p>
                        La construcción de este escenario se realizó a partir de dos fuentes de información: el costo promedio de
                        reposición de pavimentos por metro cuadrado y la superficie de pavimentos.
                    </p>
                    <p>
                        Las calles representan un activo fijo de la ciudad. El gráfico en este panel ilustra la superficie de calles por tipo de vialidad comprendida por la mancha urbana que presentamos en el mapa de la sección de Expansión de 1990 al 2019. El gráfico representa la superficie de calles comprendida en la mancha urbana desde 1990 hasta el 2019, desglosada de manera quinquenal. El lector o lectora puede apreciar un aumento abrupto en la superficie a partir del año 2000.  Hay 119 kilómetros cuadrados de vialidades que no existían en 1990 (de los cuáles, 95 kilómetros cuadrados han sido agregados en fecha posterior al año 2000) y han sido adicionados a la mancha urbana en los últimos 30 años, los cuales representan el 61% de la superficie vial. En otras palabras, el 61% de los pavimentos de la zona metropolitana no existían hace treinta años. Esto plantea una serie de retos a futuro para la ciudad. 
                    </p>
                    <p>
                        De los 119 kilómetros de vialidades adicionadas en fecha posterior a 1990, 13 corresponden a vialidades primarias, 25 a secundarias y 81 a terciarias. Los 13 kilómetros cuadrados de vialidades primarias han cumplido su ciclo de reposición cada cinco años en varias ocasiones. Los 25 kilómetros de vialidades secundarias han contado con al menos un ciclo de reposición a los 10 o 15 años. Sin embargo, el grueso de las 81 vialidades terciarias cumplirá su ciclo de 30-50 años, requiriendo un mantenimiento distribuido entre el 2030 y el 2060. Esto generará un impacto considerable para las finanzas públicas municipales. 
                    </p>
                    <p>
                        Realicemos un desglose por tipo de vialidad: el 42% de las vialidades secundarias, el 69% de las secundarias y el 64% de las terciarias son posteriores a 1990. Estos números son un indicativo de la forma urbana de la ciudad que cuenta con una concentración de empleo en la zona central (por ello mayores vialidades principales en la zona central) y de una migración residencial hacia la periferia (la abrumadora mayoría de vialidades terciarias son posteriores a 1990 y se localizan en la periferia urbana). Si traslapamos estos porcentajes por tipo de vialidad al costo anualizado del tablero que tenemos en la parte superior de esta página, encontramos que ¡el 51% del costo de mantenimiento estándar de las vialidades provendría de lo que hemos construido en los últimos treinta años! Es decir, si la ciudad hubiera permanecido con el tamaño y vialidades que teníamos en 1990, el costo en reposición de pavimentos sería la mitad de lo que representa con la forma actual, ahorrando un promedio de $2 mil millones de pesos cada año (de acuerdo con nuestro escenario base). ¿Cuánto es 2 mil millones de pesos anualmente para inversión en infraestructura pública? Bueno, se calcula que el costo total de la Línea 3 de Metrorrey tendrá un costo total de alrededor de $10 mil millones de pesos. En otras palabras, en promedio, cada cinco años podríamos haber financiado una nueva línea de metro con el ahorro en reposición de pavimentos, si tuviéramos la misma población que hoy en día, pero el tamaño y vialidades de 1990. La línea 12 del metro de la CDMX (subterráneo y con otras dimensiones y condiciones de suelo que Monterrey) tuvo un costo de 47 mil millones de pesos. En promedio, a costos del 2020 y anualizados, el ahorro de 2 mil millones de pesos en vialidades podría haber financiado una línea de metro subterránea en Monterrey como la línea 12 en un periodo de 20-25 años.  
                    </p>
                    <p>
                        ¿Cuánto valen las vialidades como activo fijo? Si tomamos los costos de construcción del 2020 y asumimos una tasa de depreciación del 20% anual para las vialidades primarias, del 10% para las secundarias y del 2% para las terciarias, tenemos estos valores: el valor del asfalto de las vialidades (sin contar el valor del suelo) es un activo con valor de $84 mil 576 millones e pesos, equivalente al 4.7% del PIB de estado de Nuevo León. 
                    </p>
                </div>
            </div>
            <div class="uk-width-1-2@m">
                <canvas id="costChart" width="450" height="350"></canvas>
            </div>
            
        </div>
    </div>
    
    <!-- This is the modal -->
    <div id="helpModal" class="uk-flex-top" uk-modal>
        <div class="uk-modal-dialog uk-modal-body uk-margin-auto-vertical" style="color:black !important;width: 95%;">
    
            <button class="uk-modal-close-default" type="button" uk-close></button>
    
            <h2 class="uk-modal-title" style="font-weight: bold;">Escenarios de costos</h2>
            <h4 style="font-weight: bold;">Objetivo</h4>
            <p>
                Una de las consecuencias de la expansión urbana es la cobertura con servicios públicos de alumbrado, vialidades, agua y drenaje de un área territorial mayor. La infraestructura pública cumple un ciclo de vida y debe ser reemplazada a su fin. En este apartado indagamos a profundidad el costo de mantenimiento de los pavimentos para ilustrar el peso que estos costos generan en las finanzas públicas municipales. La expansión urbana y perdida de densidad conllevan más metros de superficie de vialidad. La pregunta es: ¿Cuánto nos costará mantener y sostener esta infraestructura vial que hemos construido en el transcurso de su vida útil?
            </p>
            <h4 style="font-weight: bold;">Metodología</h4>
            <p>
                Se llevaron a cabo 15 entrevistas a profundidad con funcionarios públicos del área de obras públicas de los municipios de la zona metropolitana y funcionarios del gobierno del estado de Nuevo León para indagar acerca de los costos de reposición de pavimentos y su ciclo de vida. Las entrevistas a profundidad tuvieron una duración aproximada de una hora cada una. 
                Hubo una guía semiestructurada que abordaba los tópicos de costos de construcción y reposición de pavimentos, así como de los elementos que inciden en la temporalidad de sus mantenimientos. Las entrevistas se encuentran grabadas y documentadas. Por motivos de confidencialidad de los entrevistados, mantenemos la anonimidad de sus nombres.
                Finalmente, los costos de pavimentación bajo diferentes supuestos fueron aproximados tomando el rango de valores aportado por los entrevistados. Estos costos fueron contrastados y validados con dos empresas constructoras de referencia en Monterrey: Terra Regia y U-Calli. Los resultados de costos de pavimentos presentados en esta investigación representan el valor intermedio entre el rango de costos por superficie de construcción y reposición de pavimentos aportado por funcionarios públicos y desarrolladores.
                La superficie de las vialidades por tipo de vialidad fue calculada a partir de la cartografía catastral y la planimetría. Un algoritmo en Python/ArcGIS calculó los anchos de las vialidades a partir de estos insumos en un proceso exhaustivo para los municipios de la zona metropolitana. 
            </p>
            <h4 style="font-weight: bold;">Resultado</h4>
            <p>
                Este tablero de visualización de datos condensa la información recabada sobre el costo de mantenimiento de las vialidades. El tipo de mantenimiento más común es el reencarpetamiento de la carpeta asfáltica. Se retira un rango de entre 4 y 10 centímetros de la carpeta asfáltica y se repone. En el caso de las vialidades primarias este mantenimiento ocurre cada 5 años, en promedio; cada 10-15 años para las vialidades secundarias; cada 30-50 años para las avenidas locales o terciarias. Los costos asociados con este procedimiento se son de $5,300 pesos por metro cúbico, el cual incluye el retiro y reposición de la carpeta. Estos escenarios también comprenden bacheo superficial y profundo. El bacheo superficial ocurre en un promedio del 2% de la superficie vial, con base en datos de los registros administrativos del municipio de Monterrey del 2018 y 2019. De acuerdo con los expertos, el bacheo profundo se realiza en un promedio del 7% de las vialidades que se recarpetean. 
            </p>
            <p>
                Invitamos al usuario(a) a interactuar con los parámetros de este gráfico para evaluar el impacto de la frecuencia de los mantenimientos y grosor de la capa que se reemplaza por tipo de vialidad (primarias, secundarias y terciarias) en el costo total. La pestaña de Presupuesto indica el porcentaje del presupuesto que los municipios del área metropolitana deberían dedicar a recarpetear y mantener las vialidades en buen estado. En el escenario base, esto corresponde al 16% de sus ingresos. 
            </p>
            <p>
                En conclusión, en un escenario base los municipios del área metropolitana deberían destinar un 16% de su presupuesto anual para mantener los pavimentos (en precios del 2020). Esta cifra no es muy alejada de la realidad: en el 2019, los municipios del área metropolitana destinaron un 17% de sus egresos en obras públicas en dominio público (vialidades y espacio público).
            </p>
            <p>
                Invitamos al lector(a) a explorar el resto de esta página jugando con el tablero de escenarios y explorando el resto del contenido de esta sección de Costos. 
            </p>
            <p style="font-style: italic;">
                Nota: cantidades son costos anualizados promedios; el supuesto para el cálculo de estos costos es asumir que la totalidad de las vialidades fueron construidas en el tiempo cero de manera concurrente. 
            </p>
    
        </div>
    </div>
    
    
    <script>
        //mover a un script propio
        Chart.defaults.global.defaultFontColor = "rgb(25,45,58)";

        let cFinPrim = 10;
        let cFinSec = 20;
        let cFinTer = 30;
        let costoTotal = 40;

        let escenariosData = {
            label: 'Escenario',
            data: [cFinPrim, cFinSec, cFinTer, costoTotal],
            backgroundColor: [
                'rgb(82, 125, 154)',
                'rgb(82, 125, 154)',
                'rgb(82, 125, 154)',
                'rgb(45, 80, 102)'
            ],
            borderColor: [
                'rgb(82, 125, 154)',
                'rgb(82, 125, 154)',
                'rgb(82, 125, 154)',
                'rgb(45, 80, 102)'
            ],
            borderWidth: 2,
            hoverBorderWidth: 0
        };

        var formatter = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',

            // These options are needed to round to whole numbers if that's what you want.
            minimumFractionDigits: 0,
            maximumFractionDigits: 1,
        });

        function sliderReset() {
            //
            document.getElementById("fMantPrim").value = 5;
            document.getElementById("fMantSec").value = 15;
            document.getElementById("fMantTer").value = 50;

            document.getElementById("GCarpPrim").value = 6;
            document.getElementById("GCarpSec").value = 4;
            document.getElementById("GCarpTer").value = 4;

            document.getElementById("bProfPrim").value = 0.07;
            document.getElementById("bProfSec").value = 0.05;
            document.getElementById("bProfTer").value = 0.03;

            document.getElementById("bSupPrim").value = 0.02;
            document.getElementById("bSupSec").value = 0.02;
            document.getElementById("bSupTer").value = 0.01;

            const allRanges = document.querySelectorAll(".range-wrap");
            allRanges.forEach(wrap => {
                const range = wrap.querySelector(".range");
                const bubble = wrap.querySelector(".bubble");

                range.addEventListener("input", () => {
                    setBubble(range, bubble);
                    //calculateCostosEscenario();
                });
                setBubble(range, bubble);
                //calculateCostosEscenario();
            });

            function setBubble(range, bubble) {
                const val = range.value;
                const min = range.min ? range.min : 0;
                const max = range.max ? range.max : 100;
                const newVal = Number(((val - min) * 100) / (max - min));
                bubble.innerHTML = val;

                // Sorta magic numbers based on size of the native UI thumb
                bubble.style.left = `calc(${newVal}% + (${8 - newVal * 0.15}px))`;
            }

            //Para porcentaje
            const allRanges2 = document.querySelectorAll(".range-wrap2");
            allRanges2.forEach(wrap => {
                const range = wrap.querySelector(".range");
                const bubble2 = wrap.querySelector(".bubble2");

                range.addEventListener("input", () => {
                    setBubble2(range, bubble2);
                    //calculateCostosEscenario();
                });
                setBubble2(range, bubble2);
                //calculateCostosEscenario();
            });

            function setBubble2(range, bubble) {
                const val = range.value;
                const min = range.min ? range.min : 0;
                const max = range.max ? range.max : 100;
                const newVal = Number(((val - min) * 100) / (max - min));
                let values = Math.floor((val * 100));
                bubble.innerHTML = values + "%";

                // Sorta magic numbers based on size of the native UI thumb
                bubble.style.left = `calc(${newVal}% + (${8 - newVal * 0.15}px))`;
            }

            calculateCostosEscenario();

        }


        var dataPie = [{
            data: [50, 50],
            backgroundColor: [
                "#4b77a9",
                "#5f255f",
            ],
            borderColor: "#rgb(25,45,58)"
        }];

        var optionsPie = {
            legend: {
                labels: {
                    // This more specific font property overrides the global property
                    fontColor: 'black'
                }
            },
            title: {
                display: true,
                fontsize: 20,
                text: 'Egresos de los municipios de la ZMM (pesos del 2019)',
                fontColor: 'rgb(25,45,58)'
            },
            tooltips: {
                enabled: true
            },
            plugins: {
                datalabels: {
                    formatter: (value, ctx) => {

                        let sum = ctx.dataset._meta[0].total;
                        let percentage = (value * 100 / sum).toFixed(2) + "%";
                        return percentage;


                    },
                    color: '#fff',
                },
            }
        };

        var costoAnualChart = new Chart(costoAnual, {
            type: 'pie',
            data: {
                labels: ['Pavimentos', 'El resto del gasto público'],
                datasets: dataPie
            },
            options: optionsPie
        });

        var escenariosChart = new Chart(escenarios, {
            type: 'bar',
            data: {
                labels: ["Primarias", "Secundarias", "Terciarias", "Costo Total"],
                datasets: [escenariosData]
            },
            options: {
                legend: {
                    labels: {
                        // This more specific font property overrides the global property
                        fontColor: 'rgb(25,45,58)'
                    }
                },
                tooltips: {
                    callbacks: {
                        label: function (tooltipItem, data) {
                            var value = data.datasets[tooltipItem.datasetIndex].data[tooltipItem.index];
                            if (parseInt(value) >= 1000) {
                                return '$' + value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + " Millones de pesos";
                            } else {
                                return '$' + value + " Millones de pesos";
                            }
                        }
                    } // end callbacks:
                }, //end tooltips
                scales: {
                    yAxes: [{
                        ticks: {
                            beginAtZero: true,
                            callback: function (value, index, values) {
                                if (parseInt(value) >= 1000) {
                                    return '$' + value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
                                } else {
                                    return '$' + value;
                                }
                            },
                            fontColor: 'rgb(25,45,58)'
                        },
                        scaleLabel: {
                            display: true,
                            labelString: 'Costo por año por tipo de vialidad (Millones de pesos mexicanos)',
                            fontColor: 'rgb(25,45,58)'
                        }
                    }],
                    xAxes: [{
                        ticks: {
                            autoSkip: false,
                            maxRotation: 0,
                            minRotation: 0
                        },
                        scaleLabel: {
                            fontColor: 'white'
                        }
                    }]
                },
                plugins: {
                    datalabels: {
                        display: false,
                        fontColor: 'white'
                    },
                }
            }
        });

        function calculateCostosEscenario() {
            let area = [31582743.1658497, 36331975.2749692, 127911345.271943, 195826064]
            let costo = 5300;
            let costoBachP = 750;
            let costoBachS = 170;

            //get data from input
            let fMantPrim = document.getElementById("fMantPrim").value;
            let fMantSec = document.getElementById("fMantSec").value;
            let fMantTer = document.getElementById("fMantTer").value;

            let GCarpPrim = document.getElementById("GCarpPrim").value;
            let GCarpSec = document.getElementById("GCarpSec").value;
            let GCarpTer = document.getElementById("GCarpTer").value;

            let bProfPrim = document.getElementById("bProfPrim").value;
            let bProfSec = document.getElementById("bProfSec").value;
            let bProfTer = document.getElementById("bProfTer").value;

            let bSupPrim = document.getElementById("bSupPrim").value;
            let bSupSec = document.getElementById("bSupSec").value;
            let bSupTer = document.getElementById("bSupTer").value;

            //Costos Finales
            cFinPrim = +((area[0] / fMantPrim * (costo * GCarpPrim / 100)) + (area[0] / fMantPrim * bProfPrim * costoBachP) + (area[0] * bSupPrim * costoBachS)).toFixed(4);
            cFinSec = +((area[1] / fMantSec * (costo * GCarpSec / 100)) + (area[1] / fMantSec * bProfSec * costoBachP) + (area[1] * bSupSec * costoBachS)).toFixed(4);
            cFinTer = +((area[2] / fMantTer * (costo * GCarpTer / 100)) + (area[2] / fMantTer * bProfTer * costoBachP) + (area[2] * bSupTer * costoBachS)).toFixed(4);
            costoTotal = (cFinPrim + cFinSec + cFinTer);

            //1000000
            var cFinPrim2 = +((area[0] / fMantPrim * (costo * GCarpPrim / 100)) + (area[0] / fMantPrim * bProfPrim * costoBachP) + (area[0] * bSupPrim * costoBachS)).toFixed(4) / 1000000;
            var cFinSec2 = +((area[1] / fMantSec * (costo * GCarpSec / 100)) + (area[1] / fMantSec * bProfSec * costoBachP) + (area[1] * bSupSec * costoBachS)).toFixed(4) / 1000000;
            var cFinTer2 = +((area[2] / fMantTer * (costo * GCarpTer / 100)) + (area[2] / fMantTer * bProfTer * costoBachP) + (area[2] * bSupTer * costoBachS)).toFixed(4) / 1000000;
            var costoTotal2 = (cFinPrim2 + cFinSec2 + cFinTer2);

            //console.log(cFinPrim);
            //console.log(cFinSec);
            //console.log(cFinTer)

            let costo2 = [320, 190, 190];
            let costoBachP2 = 750;
            let costoBachS2 = 170;

            //Costos Anuales
            let primarias = [18234806.1762869, 19766071.5549363, 21158227.0244389, 24341160.437591, 26294034.8989525, 29284327.3060617, 31582743.1658497];
            let secundarias = [11265632.9142413, 14352345.1188317, 15966692.222525, 22150017.9062825, 27548366.0303522, 33081500.998636, 36331975.2749692];
            let terciarias = [46407721.4074635, 56544631.7883364, 62745778.073591, 79908868.0204406, 97077561.340456, 116000002.278598, 127911345.271943];
            let totalHist = [75908160.50, 90663048.46, 99870697.32, 126400046.36, 150919962.27, 178365830.58, 195826063.71];

            //Orden Vial
            let primariasVial = [18211291.16, 19724442.89, 20915426.8, 23961896.87, 25703992.48, 28344300.12, 29875128.39];
            let carreteraUno = [23515.02015, 41628.66436, 242800.2251, 379263.5651, 590042.4176, 940027.1829, 1707614.774];
            let carreteraDos = [18234806.18, 19766071.55, 21158227.02, 24341160.44, 26294034.9, 29284327.31, 31582743.17];
            let secundariasVial = [11255703.22, 14352345.12, 15966692.22, 21969416.07, 27351950, 32696959.1, 35675175.95];
            let ruralesVial = [9929.698505, 0, 0, 180601.8344, 196416.0295, 384541.8944, 656799.3221];
            let ruralesVialDos = [11265632.91, 14352345.12, 15966692.22, 22150017.91, 27548366.03, 33081501, 36331975.27];
            let terciariaVial = [46407721.41, 56544631.79, 62745778.07, 79908868.02, 97077561.34, 116000002.3, 127911345.3];

            //1990
            let primNov = (primarias[0] / fMantPrim * costo2[0]) + (primarias[0] / fMantPrim * bProfPrim * costoBachP2) + (primarias[0] * bSupPrim * costoBachS2);
            let secNov = (secundarias[0] / fMantSec * costo2[1]) + (secundarias[0] / fMantSec * bProfSec * costoBachP2) + (secundarias[0] * bSupSec * costoBachS2);
            let terNov = (terciarias[0] / fMantTer * costo2[2]) + (terciarias[0] / fMantTer * bProfTer * costoBachP2) + (terciarias[0] * bSupTer * costoBachS2);
            let totalNov = primNov + secNov + terNov;

            //1995
            let primNovCinc = (primarias[1] / fMantPrim * costo2[0]) + (primarias[1] / fMantPrim * bProfPrim * costoBachP2) + (primarias[1] * bSupPrim * costoBachS2);
            let secNovCinc = (secundarias[1] / fMantSec * costo2[1]) + (secundarias[1] / fMantSec * bProfSec * costoBachP2) + (secundarias[1] * bSupSec * costoBachS2);
            let terNovCinc = (terciarias[1] / fMantTer * costo2[2]) + (terciarias[1] / fMantTer * bProfTer * costoBachP2) + (terciarias[1] * bSupTer * costoBachS2);
            let totalNovCinc = primNovCinc + secNovCinc + terNovCinc;

            //2000
            let primDos = (primarias[2] / fMantPrim * costo2[0]) + (primarias[2] / fMantPrim * bProfPrim * costoBachP2) + (primarias[2] * bSupPrim * costoBachS2);
            let secDos = (secundarias[2] / fMantSec * costo2[1]) + (secundarias[2] / fMantSec * bProfSec * costoBachP2) + (secundarias[2] * bSupSec * costoBachS2);
            let terDos = (terciarias[2] / fMantTer * costo2[2]) + (terciarias[2] / fMantTer * bProfTer * costoBachP2) + (terciarias[2] * bSupTer * costoBachS2);
            let totalDos = primDos + secDos + terDos;

            //2005
            let primDosCinc = (primarias[3] / fMantPrim * costo2[0]) + (primarias[3] / fMantPrim * bProfPrim * costoBachP2) + (primarias[3] * bSupPrim * costoBachS2);
            let secDosCinc = (secundarias[3] / fMantSec * costo2[1]) + (secundarias[3] / fMantSec * bProfSec * costoBachP2) + (secundarias[3] * bSupSec * costoBachS2);
            let terDosCinc = (terciarias[3] / fMantTer * costo2[2]) + (terciarias[3] / fMantTer * bProfTer * costoBachP2) + (terciarias[3] * bSupTer * costoBachS2);
            let totalDosCinc = primDosCinc + secDosCinc + terDosCinc;

            //2010
            let primDosDiez = (primarias[4] / fMantPrim * costo2[0]) + (primarias[4] / fMantPrim * bProfPrim * costoBachP2) + (primarias[4] * bSupPrim * costoBachS2);
            let secDosDiez = (secundarias[4] / fMantSec * costo2[1]) + (secundarias[4] / fMantSec * bProfSec * costoBachP2) + (secundarias[4] * bSupSec * costoBachS2);
            let terDosDiez = (terciarias[4] / fMantTer * costo2[2]) + (terciarias[4] / fMantTer * bProfTer * costoBachP2) + (terciarias[4] * bSupTer * costoBachS2);
            let totalDosDiez = primDosDiez + secDosDiez + terDosDiez;

            //2015
            let primDDiezCinc = (primarias[5] / fMantPrim * costo2[0]) + (primarias[5] / fMantPrim * bProfPrim * costoBachP2) + (primarias[5] * bSupPrim * costoBachS2);
            let secDDiezCinc = (secundarias[5] / fMantSec * costo2[1]) + (secundarias[5] / fMantSec * bProfSec * costoBachP2) + (secundarias[5] * bSupSec * costoBachS2);
            let terDDiezCinc = (terciarias[5] / fMantTer * costo2[2]) + (terciarias[5] / fMantTer * bProfTer * costoBachP2) + (terciarias[5] * bSupTer * costoBachS2);
            let totalDDiezCinc = primDDiezCinc + secDDiezCinc + terDDiezCinc;

            //2019
            let primDDiezNuev = (primarias[6] / fMantPrim * costo2[0]) + (primarias[6] / fMantPrim * bProfPrim * costoBachP2) + (primarias[6] * bSupPrim * costoBachS2);
            let secDDiezNuev = (secundarias[6] / fMantSec * costo2[1]) + (secundarias[6] / fMantSec * bProfSec * costoBachP2) + (secundarias[6] * bSupSec * costoBachS2);
            let terDDiezNuev = (terciarias[6] / fMantTer * costo2[2]) + (terciarias[6] / fMantTer * bProfTer * costoBachP2) + (terciarias[6] * bSupTer * costoBachS2);
            let totalDDiezNuev = primDDiezNuev + secDDiezNuev + terDDiezNuev;

            let costoString = formatter.format(costoTotal);

            //document.getElementById("totalCostText").innerHTML  = "Costo Total: "+costoString;
            document.getElementById("totalCostText").innerHTML = costoString;
            //UPDATES!
            //data: [cFinPrim, cFinSec, cFinTer,costoTotal],
            let escenariosDatas = {
                label: 'Escenario',
                data: [Math.floor(cFinPrim2), Math.floor(cFinSec2), Math.floor(cFinTer2), Math.floor(costoTotal2)],
                backgroundColor: [
                    'rgb(82, 125, 154)',
                    'rgb(82, 125, 154)',
                    'rgb(82, 125, 154)',
                    'rgb(45, 80, 102)'
                ],
                borderColor: [
                    'rgb(82, 125, 154)',
                    'rgb(82, 125, 154)',
                    'rgb(82, 125, 154)',
                    'rgb(45, 80, 102)'
                ],
                borderWidth: 2,
                hoverBorderWidth: 0
            };

            escenariosChart.data.datasets[0] = escenariosDatas;

            escenariosChart.update();

            let porcentajeCosto = +((costoTotal / 24186825819.8267) * 100).toFixed(2);
            let losOtros = (100 - porcentajeCosto);

            //console.log(porcentajeCosto);
            //console.log(losOtros)

            let dataPieInternal = {
                label: 'Porcentajes de costo',
                data: [porcentajeCosto, losOtros],
                backgroundColor: [
                    'rgb(82, 125, 154)',
                    'rgb(45, 80, 102)'
                ],
                borderColor: "#E4E3DF",
                borderWidth: 4,
                hoverBorderWidth: 0
            };

            costoAnualChart.data.datasets[0] = dataPieInternal;

            costoAnualChart.update();


        }

        calculateCostosEscenario();

        function lockSliders() {

        }

        function mainTab() {
            calculateCostosEscenario();
        }

        const allRanges = document.querySelectorAll(".range-wrap");
        allRanges.forEach(wrap => {
            const range = wrap.querySelector(".range");
            const bubble = wrap.querySelector(".bubble");

            range.addEventListener("input", () => {
                setBubble(range, bubble);
                //calculateCostosEscenario();
            });
            setBubble(range, bubble);
            //calculateCostosEscenario();
        });

        function setBubble(range, bubble) {
            const val = range.value;
            const min = range.min ? range.min : 0;
            const max = range.max ? range.max : 100;
            const newVal = Number(((val - min) * 100) / (max - min));
            bubble.innerHTML = val;

            // Sorta magic numbers based on size of the native UI thumb
            bubble.style.left = `calc(${newVal}% + (${8 - newVal * 0.15}px))`;
        }

        //Para porcentaje
        const allRanges2 = document.querySelectorAll(".range-wrap2");
        allRanges2.forEach(wrap => {
            const range = wrap.querySelector(".range");
            const bubble2 = wrap.querySelector(".bubble2");

            range.addEventListener("input", () => {
                setBubble2(range, bubble2);
                //calculateCostosEscenario();
            });
            setBubble2(range, bubble2);
            //calculateCostosEscenario();
        });

        function setBubble2(range, bubble) {
            const val = range.value;
            const min = range.min ? range.min : 0;
            const max = range.max ? range.max : 100;
            const newVal = Number(((val - min) * 100) / (max - min));
            let values = Math.floor((val * 100));
            bubble.innerHTML = values + "%";

            // Sorta magic numbers based on size of the native UI thumb
            bubble.style.left = `calc(${newVal}% + (${8 - newVal * 0.15}px))`;
        }


    </script>
    
    
    <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script type="text/javascript">
        function mobileNav() {
            var x = document.getElementById("nav");
            if (x.className === "nav") {
                x.className += " responsive";
                x.querySelector('i').className = "fa fa-close";
            } else {
                x.className = "nav";
                x.querySelector('i').className = "fa fa-bars";
            }
        }
        document.querySelectorAll('.tabs').forEach(tabs => {
            tabs.querySelectorAll('li').forEach((tabSelector, i) => {
                tabSelector.addEventListener('click', () => {
                    tabSelector.parentNode.querySelectorAll('.tabs li').forEach(l => l.classList.remove('active'));
                    tabSelector.parentNode.parentNode.querySelectorAll('.tabs-content li').forEach(l => l.classList.remove('active'));
                    tabSelector.classList.add('active');
                    tabSelector.parentNode.parentNode.querySelectorAll('.tabs-content li')[i].classList.add('active')
                })
            })
        });
    </script>
    <script src="./js/otherCharts.js"></script>
    
    </body>